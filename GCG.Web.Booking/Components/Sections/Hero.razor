<div id="home" class="hero-section" data-aos="fade" data-aos-duration="700">
    <MudCarousel Class="mud-width-full"
                 Style="height:100vh;"
                 ShowArrows="false"
                 ShowBullets="false"
                 EnableSwipeGesture="true"
                 AutoCycle="true"
                 AutoCycleTime="TimeSpan.FromMilliseconds(5000)"
                 TData="HeroImage">
        @foreach (var img in Images)
        {
            <MudCarouselItem Transition="Transition.Fade">
                <div class="carousel-wrapper">
                    <div class="carousel-overlay"></div>
                    <MudImage Src="@img.Url"
                              Alt="@img.Alt"
                              loading="lazy"
                              Class="carousel" />
                </div>
            </MudCarouselItem>
        }
    </MudCarousel>
    <div class="hero-content">
        <MudGrid Justify="Justify.Center">
            <MudItem xs="12">
                <MudText class="hero-title">
                    Refugio del Sol
                </MudText>
                <MudText Typo="Typo.h5" class="hero-subtitle">
                    Descubre la tranquilidad y la belleza de nuestra playa privada
                </MudText>
                <MudButton Color="Color.Secondary"
                           Variant="Variant.Filled"
                           Size="Size.Large"
                           OnClick="@(() => ScrollTo("aboutUs"))"
                           Class="mt-4 btn-action"
                           aria-label="Explorar servicios">
                    Explorar
                </MudButton>
            </MudItem>
        </MudGrid>
    </div>
</div>

<style>
    /* =========================================
           HERO SECTION
           ========================================= */

    /* Contenedor principal del hero */
    .hero-section {
        position: relative;
        height: 100vh;
        width: 100%;
        overflow: hidden;
    }

    /* Wrapper del carousel con imagen */
    .carousel-wrapper {
        position: relative;
        width: 100%;
        height: 100vh;
        overflow: hidden;
    }

    /* Imagen del carousel */
    .carousel {
        height: 100vh;
        width: 100%;
        object-fit: cover;
        z-index: 0;
    }

    /* Overlay mejorado con gradiente más pronunciado */
    .carousel-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient( to top, rgba(0, 0, 0, 0.75) 0%, rgba(0, 0, 0, 0.4) 50%, rgba(0, 0, 0, 0.2) 100% );
        z-index: 1;
        pointer-events: none;
    }

    /* Contenido del hero con backdrop blur */
    .hero-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        color: #fff;
        z-index: 10;
        padding: 2.5rem 2rem;
        width: 100%;
        max-width: 1200px;
        will-change: transform, opacity;
        /* Backdrop blur sutil para mejorar legibilidad */
        background: rgba(0, 0, 0, 0.15);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        border-radius: 16px;
    }

    /* Título principal */
    .hero-title {
        font-weight: 700 !important;
        letter-spacing: 0.08rem !important;
        word-spacing: 0.2rem;
        text-shadow: 0 4px 8px rgba(0, 0, 0, 0.7), 0 0 20px rgba(0, 0, 0, 0.5);
        font-size: clamp(3.5rem, 8vw, 6rem) !important;
        line-height: 1.1;
        text-transform: uppercase !important;
        margin-bottom: 1.5rem;
    }

    /* Subtítulo mejorado */
    .hero-subtitle {
        text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8), 0 0 20px rgba(0, 0, 0, 0.6);
        margin-bottom: 2rem;
        /* Mejora el line-height */
        line-height: 1.6 !important;
        font-size: clamp(1rem, 2.5vw, 1.25rem) !important;
    }

    /* Botón CTA mejorado */
    .btn-action {
        font-size: 1.1rem !important;
        padding: 1rem 3rem !important;
        letter-spacing: 0.05em !important;
        font-weight: 600 !important;
        text-transform: uppercase !important;
        /* Sombra para destacar */
        box-shadow: 0 4px 14px rgba(0, 0, 0, 0.3) !important;
        transition: all 0.3s ease !important;
    }

        .btn-action:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4) !important;
        }

    /* Mejora de rendimiento para elementos animados */
    .gsap-hero-title,
    .gsap-hero-subtitle,
    .gsap-hero-cta,
    .gsap-hero-bg {
        will-change: transform, opacity;
    }

    /* =========================================
           RESPONSIVE - TABLET
           ========================================= */
    @@media (max-width: 960px) {
        .hero-content {
            padding: 2rem 1.5rem;
            max-width: 85%;
        }

        .hero-title {
            font-size: clamp(3rem, 7vw, 4.5rem) !important;
            margin-bottom: 1.25rem;
        }

        .hero-subtitle {
            max-width: 90%;
            font-size: clamp(0.95rem, 2.2vw, 1.15rem) !important;
        }

        .btn-action {
            padding: 0.9rem 2.5rem !important;
            font-size: 1rem !important;
        }
    }

    /* =========================================
           RESPONSIVE - MOBILE
           ========================================= */
    @@media (max-width: 600px) {
        .hero-content {
            background: rgba(0, 0, 0, 0.25);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 1.5rem 1rem;
            max-width: 90%;
            border-radius: 12px;
        }

        .hero-title {
            font-size: clamp(2.5rem, 10vw, 3.5rem) !important;
            letter-spacing: 0.05rem !important;
            margin-bottom: 1rem;
        }

        .hero-subtitle {
            max-width: 95%;
            font-size: clamp(0.9rem, 4vw, 1rem) !important;
            margin-bottom: 1.5rem;
            line-height: 1.5 !important;
        }

        .btn-action {
            padding: 0.85rem 2rem !important;
            font-size: 0.95rem !important;
            width: 100%;
            max-width: 250px;
        }
        /* Overlay más fuerte en mobile */
        .carousel-overlay {
            background: linear-gradient( to top, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.5) 50%, rgba(0, 0, 0, 0.3) 100% );
        }
    }

    /* =========================================
           TRANSICIONES PERSONALIZADAS
           ========================================= */

    /* Transición suave para el fade del carousel */
    .fade-in-smooth {
        animation: fadeInSmooth 1s ease-in-out;
    }

    .fade-out-smooth {
        animation: fadeOutSmooth 1s ease-in-out;
    }

    @@keyframes fadeInSmooth {
        from {
            opacity: 0;
            transform: scale(1.05);
        }

        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    @@keyframes fadeOutSmooth {
        from {
            opacity: 1;
            transform: scale(1);
        }

        to {
            opacity: 0;
            transform: scale(1.05);
        }
    }

</style>

@code {
    [Inject] private IJSRuntime JS { get; set; } = default!;

    private record HeroImage(string Url, string Alt);

    private readonly List<HeroImage> Images = new()
    {
        new("https://fastly.picsum.photos/id/13/2500/1667.jpg?hmac=SoX9UoHhN8HyklRA4A3vcCWJMVtiBXUg0W4ljWTor7s", "Vista panorámica de playa privada al atardecer"),
        new("https://fastly.picsum.photos/id/37/2000/1333.jpg?hmac=vpYLNsQZwU2szsZc4Uo17cW786vR0GEUVq4icaKopQI", "Aguas cristalinas y vegetación tropical"),
        new("https://fastly.picsum.photos/id/77/1631/1102.jpg?hmac=sg0ArFCRjP1wlUg8vszg5RFfGiXZJkWEtqLLCRraeBw", "Zona de descanso frente al mar")
    };

    private async Task ScrollTo(string sectionId)
        => await JS.InvokeVoidAsync("scrollToSection", sectionId);
}
